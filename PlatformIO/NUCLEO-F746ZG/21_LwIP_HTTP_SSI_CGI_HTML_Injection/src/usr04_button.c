/*
# ##############################################################################
# File: usr04_button.c                                                         #
# Project: src                                                                 #
# Created Date: Thursday, October 12th 2023, 10:27:34 pm                       #
# Author: Zafeer Abbasi                                                        #
# ----------------------------------------------                               #
# Last Modified: Saturday, October 14th 2023, 8:26:20 am                       #
# Modified By: Zafeer Abbasi                                                   #
# ----------------------------------------------                               #
# Copyright (c) 2023 Zafeer.A                                                  #
# ----------------------------------------------                               #
# HISTORY:                                                                     #
 */

/*##############################################################################################################################################*/
/*INCLUDES______________________________________________________________________________________________________________________________________*/
/*##############################################################################################################################################*/

#include "main.h"
#include "usr04_button.h"


/*##############################################################################################################################################*/
/*FUNCTION DECLARATIONS_________________________________________________________________________________________________________________________*/
/*##############################################################################################################################################*/



/*##############################################################################################################################################*/
/*GLOBALS_______________________________________________________________________________________________________________________________________*/
/*##############################################################################################################################################*/



/*##############################################################################################################################################*/
/*DEFINES_______________________________________________________________________________________________________________________________________*/
/*##############################################################################################################################################*/



/*##############################################################################################################################################*/
/*EXTERNS_______________________________________________________________________________________________________________________________________*/
/*##############################################################################################################################################*/



/*##############################################################################################################################################*/
/*TYPEDEFS/STRUCTS/ENUMS________________________________________________________________________________________________________________________*/
/*##############################################################################################################################################*/



/*##############################################################################################################################################*/
/*FUNCTIONS_____________________________________________________________________________________________________________________________________*/
/*##############################################################################################################################################*/


void BUTTON_pushBtnInit( void )
{
    /*Enable Clocks*/
    __HAL_RCC_GPIOC_CLK_ENABLE( );

    GPIO_InitTypeDef pushBtn = { 0 };
    pushBtn.Mode    = GPIO_MODE_INPUT;
    pushBtn.Pin     = PUSH_BUTTON_PIN;

    HAL_GPIO_Init( PUSH_BUTTON_PORT, &pushBtn );
}

char *BUTTON_getBtnState( void )
{
    char *state;
    uint8_t val = HAL_GPIO_ReadPin( PUSH_BUTTON_PORT, PUSH_BUTTON_PIN );
    if( val == 1 )
    {
        state = "PRESSED";
    }
    else
    {
        state = "RELEASED";
    }
    
    return state;
}